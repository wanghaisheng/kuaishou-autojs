# kuaishou-autojs

autojs 练手项目。快手，星光红包，粉丝取关等。

## 特性

1. 跑通星光红包流程。

2. 因为流程过于复杂，引入超时管理。提升脚本稳定性。

   因为，在快手中，弹出红包，关注主播，等待倒计时，开奖，开奖结果，这本身是一个串流任务。
   但是，快手中，一个直播间可以存在多个红包，这几个红包的状态并不一致。其他红包开奖的页面会跳出来，干扰当前正常流程。鉴于此，引入超时管理。按照错误来处理。

3. 而，在没有多个红包干扰时，单个红包的状态，也未必按照，串行流程来。比如，之前用户已经关注了，或者倒计时本身就很短，直接就开奖了。导致，第一个发现的任务并不是预测的第一个。
   鉴于此，引入了，正则匹配，来直接跳入任务。将任务存在集合中，根据匹配的状态，确定从哪一个状态开始执行。

## 遗留问题

目前，遗留的问题。因为，在超时机制的引入下，会直接杀掉运行脚本，而，程序界面也是需要跟随回退的。而这里的回退处理。目前粗暴的使用，back（）。
而这个 back 在大多数情况下可用。但是在某些情况下不可用。具体原因，未知。
